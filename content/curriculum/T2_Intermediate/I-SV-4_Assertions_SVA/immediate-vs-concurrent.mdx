import { InfoPage } from "@/components/templates/InfoPage";
import { InteractiveCode, Quiz } from "@/components/ui";

export const metadata = {
  title: "Immediate vs. Concurrent Assertions | Advanced SystemVerilog for Verification",
  description: "Compare procedural checks with temporal properties through hands-on examples.",
};

<InfoPage
  title="Immediate vs. Concurrent Assertions"
  sv_concept_tags={["immediate assertions", "concurrent assertions"]}
>

  ## Immediate vs. Concurrent Assertions

  Immediate assertions execute like regular procedural statements and check a condition at the exact time they run.

  <InteractiveCode>
  ```systemverilog
  always_ff @(posedge clk) begin
    // Fail if address is misaligned on this cycle
    assert (!(addr[1:0])) else
      $error("Address %h is not word aligned", addr);
  end
  ```
  </InteractiveCode>

  Concurrent assertions monitor temporal behavior across clock cycles using sequences and properties.

  <InteractiveCode>
  ```systemverilog
  sequence s_req_then_ack;
    req ##1 ack;
  endsequence

  property p_req_ack;
    @(posedge clk) req |-> s_req_then_ack;
  endproperty

  assert_req_ack: assert property (p_req_ack)
    else $error("Ack did not follow req");
  ```
  </InteractiveCode>

  ### Advanced Tips

  - Use immediate assertions for quick sanity checks inside procedural code.
  - Concurrent assertions can be reused across modules by placing them in interfaces or packages.

  ## Check Your Understanding

  <Quiz questions={[
    {
      question: "Where do immediate assertions execute?",
      answers: [
        { text: "Only in interfaces", correct: false },
        { text: "Inside procedural code such as always blocks", correct: true },
        { text: "In a separate assertion block", correct: false },
        { text: "Only during reset", correct: false }
      ],
      explanation: "Immediate assertions behave like procedural statements."
    },
    {
      question: "What enables concurrent assertions to monitor behavior over time?",
      answers: [
        { text: "They are scheduled by an always block", correct: false },
        { text: "They are evaluated on clock edges using properties and sequences", correct: true },
        { text: "They execute only once", correct: false },
        { text: "They cannot include delay operators", correct: false }
      ],
      explanation: "Concurrent assertions use sequences and properties evaluated on clock edges."
    }
  ]} />

</InfoPage>
