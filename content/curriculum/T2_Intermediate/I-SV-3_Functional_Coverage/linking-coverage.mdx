import { InfoPage } from "@/components/templates/InfoPage";
import { Quiz, InteractiveCode } from "@/components/ui";

export const metadata = {
  title: "Linking Coverage to the V-Plan | Advanced UVM Techniques & Strategy",
  description: "Tie functional coverage points back to verification plan items.",
};

<InfoPage
  title="Linking Coverage to the V-Plan"
  uvm_concept_tags={["coverage", "v-plan"]}
>

  ## Level 1: Why Link Coverage?

  A verification plan (V-Plan) lists the features the design must support. Linking **covergroups** to plan items proves that each requirement has been exercised in simulation.

  **The Analogy:** Imagine a checklist for a road trip. Each time you visit a landmark, you tick it off. Coverage-to-V-Plan linkage is that checklist for verification.

  ## Level 2: Practical Method

  ### Tagging Covergroups

  Use options to embed plan information:

  <InteractiveCode>
  ```systemverilog
  covergroup cg_mode @(posedge clk);
    option.comment = "VPLAN-5.2"; // link to plan item
    cp_mode: coverpoint mode;
  endgroup
  ```
  </InteractiveCode>

  Coverage collectors often subscribe to monitor analysis ports. See [analysis components](/curriculum/uvm-building/essentials/analysis-components) for how transactions reach these covergroups.

  Reports can then filter coverage by `option.comment`, giving traceability back to the V-Plan. When holes appear, adjust stimulus using [Constrained Randomization](/curriculum/T2_Intermediate/I-SV-2_Constrained_Randomization).

  ## Level 3: Expert Insights

  **Tool Integration:** Many tools export coverage databases (like UCDB) with plan IDs, enabling dashboards that show verification progress.

  **Granularity:** Link coverpoints or bins to individual requirements for fine-grained tracking.

  **Process:** Regular reviews of V-Plan-linked coverage ensure the plan remains accurate as the design evolves.

  ## Quiz

  <Quiz questions={[
    {
      question: "Why link coverage data to the V-Plan?",
      answers: [
        { text: "To speed up simulations", correct: false },
        { text: "To prove each requirement has been exercised", correct: true },
        { text: "To reduce code size", correct: false },
        { text: "To enable automatic reset", correct: false }
      ],
      explanation: "Linking coverage to the plan demonstrates that every planned feature was verified."
    },
    {
      question: "Which option can store a V-Plan reference inside a covergroup?",
      answers: [
        { text: "`option.per_instance`", correct: false },
        { text: "`option.comment`", correct: true },
        { text: "`option.goal`", correct: false },
        { text: "`option.weight`", correct: false }
      ],
      explanation: "`option.comment` is often used to embed plan IDs or notes in coverage results."
    }
  ]} />

</InfoPage>

