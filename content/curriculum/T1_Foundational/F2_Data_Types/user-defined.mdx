import { InfoPage } from "@/components/templates/InfoPage";
import { Quiz } from "@/components/ui";

export const metadata = {
  title: "User-Defined Types: structs, unions, enums, typedef | SystemVerilog Language Foundations",
  description: "How to create user-defined types.",
};

<InfoPage
  title="User-Defined Types: structs, unions, enums, typedef"
  sv_concept_tags={["user-defined types", "structs", "unions", "enums", "typedef"]}
>
  ## Elevator Pitch

  User-defined types let you bundle related data or create meaningful names for values, much like building custom-shaped boxes for specific tools. They make code easier to read and enforce structure across your design.

  ## Practical Explanation

  ### Structs and Unions

  ```systemverilog
  typedef struct {
    byte  id;
    logic [7:0] data;
  } packet_t;            // group fields together

  typedef union packed {
    byte  b;
    int   i;
  } data_u;              // share storage

  packet_t p;
  data_u   u;
  ```

  *Structs* hold multiple named fields, while *unions* allow different views of the same bits. Use `typedef` to create aliases like `packet_t` for clarity.

  ### Enumerations

  ```systemverilog
  typedef enum logic [1:0] {IDLE, READ, WRITE, ERROR} state_t;
  state_t state = IDLE;
  ```

  Enums give symbolic names to discrete values. Pair enums with <Link href="/curriculum/T1_Foundational/F2_Data_Types/arrays">arrays</Link> or structs to model state machines and protocol fields.

  ## Advanced Notes

  * Tagged unions (SystemVerilog unions) can be `tagged` for safer type checking.
  * Use `typedef` to simplify complex declarations and enable reuse across files or <Link href="/curriculum/T1_Foundational/F4_RTL_and_Testbench_Constructs/packages">packages</Link>.
  * Enums can specify encoding and have methods like `name()` to aid debugging.

  <Quiz questions={[
    {
      question: "Which construct provides symbolic names for discrete values?",
      answers: [
        { text: "struct", correct: false },
        { text: "union", correct: false },
        { text: "enum", correct: true },
        { text: "typedef", correct: false }
      ],
      explanation: "Enums map names to specific values, improving readability and safety."
    }
  ]} />

</InfoPage>