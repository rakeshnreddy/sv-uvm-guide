import { InfoPage } from "@/components/templates/InfoPage";
import { Quiz } from "@/components/ui";

export const metadata = {
  title: "Fork-Join and Process Control | SystemVerilog Language Foundations",
  description: "Launch parallel threads and synchronize them with join variants.",
};

<InfoPage
  title="Fork-Join and Process Control"
  sv_concept_tags={["fork-join", "process control"]}
>

  ## Elevator Pitch

  `fork...join` lets multiple threads run in parallel. It's the scheduler of SystemVerilog, allowing simultaneous tasks to coordinate and complete before moving on.

  ## Practical Explanation

  ```systemverilog
  initial begin
    fork
      begin
        // Task A
        #10 $display("A done");
      end
      begin
        // Task B
        #5  $display("B done");
      end
    join
    $display("Both finished");
  end
  ```

  `join_any` returns when any branch finishes; `join_none` lets the parent continue while children run. Combine with <Link href="/curriculum/T1_Foundational/F3_Procedural_Constructs/tasks-functions">tasks and functions</Link> for structured parallel activity.

  ## Advanced Notes

  * Use `disable fork` to stop all child processes.
  * `fork...join_none` is handy for testbench stimulus that doesn't block the main thread.
  * Remember: **fork = parallel start, join = synchronization point**.

  <Quiz questions={[
    {
      question: "Which variant waits for all child processes to finish?",
      answers: [
        { text: "join_any", correct: false },
        { text: "join_none", correct: false },
        { text: "join", correct: true },
        { text: "disable fork", correct: false }
      ],
      explanation: "`join` blocks until every forked process completes." 
    }
  ]} />

</InfoPage>