import { InfoPage } from "@/components/templates/InfoPage";

export const metadata = {
  title: "Frontdoor vs. Backdoor Access | Advanced UVM RAL",
  description: "Blend frontdoor realism with backdoor speed—learn when to poke directly and when to march through the bus for accurate checking.",
};

<InfoPage
  title="Frontdoor vs. Backdoor Access"
  uvm_concept_tags={["frontdoor", "backdoor", "uvm_reg_sequence"]}
>

  ## Elevator Pitch

  Frontdoor access flows through the bus agent, exercising arbitration and verifying protocol logic. Backdoor access bypasses the bus for speed or early initialization. Most teams blend both: backdoor for bring-up, frontdoor for spot checks and coverage.

  ## Trade-off Table

  | Mode | Pros | Cons |
  | --- | --- | --- |
  | Frontdoor | Exercises full bus stack, triggers monitors/coverage, mirrors stay accurate automatically | Slower, requires adapters, may need elaborate sequences |
  | Backdoor  | Instant pokes for reset or patching state, great for scoreboards/formal | Skips protocol, risk of divergence unless you update the mirror manually |

  ## Hybrid Sequence Example

  ```systemverilog
  class hybrid_reg_seq extends uvm_sequence#(uvm_reg_item);
    `uvm_object_utils(hybrid_reg_seq)
    codec_block blk;

    task body();
      uvm_status_e s;
      // Backdoor init for speed
      blk.control_config.poke(s, 'h1);
      blk.status.predict('h0);

      // Frontdoor read to confirm interconnect and mirrors are correct
      uvm_reg_data_t data;
      blk.status.read(s, data, UVM_FRONTDOOR);
      `uvm_info(get_type_name(), $sformatf("Status read via frontdoor = %h", data), UVM_LOW)
    endtask
  endclass
  ```

  **Hybrid strategy**
  - Lines 4-9: backdoor poke + manual predict keep the mirror up to date after instantaneous writes.
  - Lines 11-16: follow with a frontdoor read to validate the bus path and ensure monitors/predictors saw the change.

  ## Checklist

  - [ ] Backdoor writes update the mirror (via `predict` or `mirror`) so scoreboards do not flag false deltas.
  - [ ] Critical coverage goals (e.g., bus bursts) use frontdoor sequences.
  - [ ] Regression plan documents which tests run in hybrid mode versus pure frontdoor.

  ## Quiz Yourself

  **Why combine frontdoor and backdoor access?**
  - To get realistic bus coverage while keeping bring-up fast *(correct)*
  - Because adapters are optional
  - To avoid writing predictors
  - To replace bit-bash sequences

  **Backdoor writes require…**
  - No extra steps
  - Updating the mirror manually *(correct)*
  - Turning off monitors
  - Factory overrides

</InfoPage>
